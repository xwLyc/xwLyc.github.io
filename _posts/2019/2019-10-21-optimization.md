---
layout: post
title: "è®°ä¸€æ¬¡å·¥ä½œä¸­çš„é¡¹ç›®æ•ˆç‡ä¼˜åŒ–"
date: 2019-10-21
description: "è®°ä¸€æ¬¡å·¥ä½œä¸­çš„é¡¹ç›®æ•ˆç‡ä¼˜åŒ–"
tag: ä¼˜åŒ–
---   

äº‹æƒ…çš„å¼€å§‹æ˜¯è¿™æ ·å­çš„...
äº§å“: æˆ‘ä»¬è¦åšä¸€ä¸ªå…¬ä¼—å·æ¨å¹¿æ´»åŠ¨ï¼Œè·Ÿæ¸ é“æ–¹åˆä½œçš„ï¼Œå·´æ‹‰å·´æ‹‰...
æˆ‘: å¥½çš„...
é¡¹ç›®ä¸Šçº¿åæ²¡å‡ å¤©ï¼Œäº§å“åˆæ‰¾ä¸Šæˆ‘è¯´ï¼Œæˆ‘ä»¬è¦æ–°å¢ä¸€ä¸ªæ¸ é“åˆä½œæ–¹
æˆ‘ä¸€å¬ï¼Œå¿ƒä¸­å¤§ä¸ºè­¦æƒ•ï¼Œä»¥æˆ‘å¤šå¹´çš„ç»éªŒæ¥åˆ¤æ–­ï¼Œé—®äº†ä¸€å¥ï¼Œé™¤äº†è¿™ä¸ªåé¢è¿˜ä¼šä¸ä¼šæœ‰åˆ«çš„åˆä½œæ–¹
äº§å“: ä¸ä¸€å®šï¼Œå¯èƒ½è¿˜ä¼šæœ‰ï¼Œï¿¥%â€¦â€¦

so... è¿˜æ˜¯è¦åšå¥½é‚£ç§å¯ä»¥é…ç½®çš„ï¼Œç¨å¾®è‡ªåŠ¨çš„ã€‚

è®¿é—®ä¸€ä¸ªåœ°å€ï¼Œæ€ä¹ˆå»åŒºåˆ†ä¸åŒæ¸ é“å•†å‘¢ï¼Ÿ

åªæœ‰ä¸€ä¸ªåŠæ³•å°±æ˜¯urlé‡Œé¢æ·»åŠ  `channel` å­—æ®µåŒºåˆ†ï¼Œå»åŒ¹é…ç›¸åº”çš„æ¸ é“å†…å®¹ã€‚

ç„¶åï¼Œç°åœ¨è¦åšçš„æ˜¯å°±æŠŠä¹‹å‰ï¼Œæ‰€æœ‰çš„å¯èƒ½ä¼šå˜åŠ¨çš„å†…å®¹ï¼Œéƒ½æå–å‡ºæ¥... ç»Ÿä¸€æ–‡ä»¶æ ¼å¼ï¼Œåç§°ç­‰...

ä»¥åå°±å•ç‹¬æ”¹è¿™ä¸€ä¸ªæ–‡ä»¶å°±å¥½äº†ã€‚

åˆæ­¥çœ‹æ¥è¿˜æ˜¯ä¸é”™çš„ï¼Œä½†æ˜¯ä½ä¼°äº†å…¬å¸çš„å½±å“åŠ›ï¼Œæ¸ é“å•†è¶Šæ¥è¶Šå¤šï¼Œä¿®æ”¹æ–‡ä»¶ï¼Œä¹Ÿå˜å¾—æ¯ç‡¥æ— å‘³ï¼Œä¹Ÿå ç”¨æ—¶é—´ï¼Œè¿˜ä¼šæ‹…å¿ƒå½±å“åˆ°å…¶å®ƒé¡µé¢çš„å†…å®¹ï¼Œéƒ½è¦è‡ªæµ‹ä¸€éã€‚ä»£ç é¢„è§ˆå¦‚ä¸‹

    export default {
      data () {
        return {
          channel: '',
          channelName: {
            xeskids: 'å­¦è€Œæ€kids',
            jiazhangbang: 'å®¶é•¿å¸®',
            hangzhouxes: 'æ­å·å­¦è€Œæ€',
            hefeixes: 'åˆè‚¥å­¦è€Œæ€',
            huizhouxes: 'æƒ å·å­¦è€Œæ€',
            shenzhenxhxt: 'æ·±åœ³å°çŒ´å­¦å ‚',
            zhongshanxes: 'ä¸­å±±å­¦è€Œæ€',
            zhongshanysx: 'ä¸­å±±å¹¼å‡å°',
            jiazhangbangbc: 'å®¶é•¿å¸®ç¼–ç¨‹',
            nanningxes: 'å—å®å­¦è€Œæ€',
            shaoxingxes: 'ç»å…´å­¦è€Œæ€',
            shenzhenxes: 'æ·±åœ³å­¦è€Œæ€',
            tianjinxes: 'å¤©æ´¥å­¦è€Œæ€',
          },
          guideText: {
            xeskids: 'å­¦è€Œæ€kids',
            jiazhangbang: 'codemonkey',
            hangzhouxes: 'codemonkey',
            hefeixes: 'codemonkey',
            huizhouxes: 'codemonkey',
            shenzhenxhxt: 'codemonkey',
            zhongshanxes: 'codemonkey',
            zhongshanysx: 'codemonkey',
            jiazhangbangbc: 'codemonkey',
            nanningxes: 'codemonkey',
            shaoxingxes: 'codemonkey',
            shenzhenxes: 'codemonkey',
            tianjinxes: 'codemonkey',
          },
          guideImages: {
            xeskids: require('@/assets/image/fission/xeskids/guide.png'),
            jiazhangbang: require('@/assets/image/fission/jiazhangbang/guide.png'),
            hangzhouxes: require('@/assets/image/fission/hangzhouxes/guide.png'),
            hefeixes: require('@/assets/image/fission/hefeixes/guide.png'),
            huizhouxes: require('@/assets/image/fission/huizhouxes/guide.png'),
            shenzhenxhxt: require('@/assets/image/fission/shenzhenxhxt/guide.png'),
            zhongshanxes: require('@/assets/image/fission/zhongshanxes/guide.png'),
            zhongshanysx: require('@/assets/image/fission/zhongshanysx/guide.png'),
            jiazhangbangbc: require('@/assets/image/fission/jiazhangbangbc/guide.png'),
            nanningxes: require('@/assets/image/fission/nanningxes/guide.png'),
            shaoxingxes: require('@/assets/image/fission/shaoxingxes/guide.png'),
            shenzhenxes: require('@/assets/image/fission/shenzhenxes/guide.png'),
            tianjinxes: require('@/assets/image/fission/tianjinxes/guide.png'),
          },
          giveImages: {
            xeskids: require('@/assets/image/fission/xeskids/give.png'),
            jiazhangbang: require('@/assets/image/fission/jiazhangbang/give.png'),
            hangzhouxes: require('@/assets/image/fission/hangzhouxes/give.png'),
            hefeixes: require('@/assets/image/fission/hefeixes/give.png'),
            huizhouxes: require('@/assets/image/fission/huizhouxes/give.png'),
            shenzhenxhxt: require('@/assets/image/fission/shenzhenxhxt/give.png'),
            zhongshanxes: require('@/assets/image/fission/zhongshanxes/give.png'),
            zhongshanysx: require('@/assets/image/fission/zhongshanysx/give.png'),
            jiazhangbangbc: require('@/assets/image/fission/jiazhangbangbc/give.png'),
            nanningxes: require('@/assets/image/fission/nanningxes/give.png'),
            shaoxingxes: require('@/assets/image/fission/shaoxingxes/give.png'),
            shenzhenxes: require('@/assets/image/fission/shenzhenxes/give.png'),
            tianjinxes: require('@/assets/image/fission/tianjinxes/give.png'),
          },
          topPic: {
            xeskids: require('@/assets/image/fission/xeskids/toppic.png'),
            jiazhangbang: require('@/assets/image/fission/jiazhangbang/toppic.png'),
            hangzhouxes: require('@/assets/image/fission/hangzhouxes/toppic.png'),
            hefeixes: require('@/assets/image/fission/hefeixes/toppic.png'),
            huizhouxes: require('@/assets/image/fission/huizhouxes/toppic.png'),
            shenzhenxhxt: require('@/assets/image/fission/shenzhenxhxt/toppic.png'),
            zhongshanxes: require('@/assets/image/fission/zhongshanxes/toppic.png'),
            zhongshanysx: require('@/assets/image/fission/zhongshanysx/toppic.png'),
            jiazhangbangbc: require('@/assets/image/fission/jiazhangbangbc/toppic.png'),
            nanningxes: require('@/assets/image/fission/nanningxes/toppic.png'),
            shaoxingxes: require('@/assets/image/fission/shaoxingxes/toppic.png'),
            shenzhenxes: require('@/assets/image/fission/shenzhenxes/toppic.png'),
            tianjinxes: require('@/assets/image/fission/tianjinxes/toppic.png'),
          },
          channelEwm: {
            xeskids: require('@/assets/image/fission/xeskids/ewm.jpg'),
            jiazhangbang: require('@/assets/image/fission/jiazhangbang/ewm.jpg'),
            hangzhouxes: require('@/assets/image/fission/hangzhouxes/ewm.jpg'),
            hefeixes: require('@/assets/image/fission/hefeixes/ewm.jpg'),
            huizhouxes: require('@/assets/image/fission/huizhouxes/ewm.jpg'),
            shenzhenxhxt: require('@/assets/image/fission/shenzhenxhxt/ewm.jpg'),
            zhongshanxes: require('@/assets/image/fission/zhongshanxes/ewm.jpg'),
            zhongshanysx: require('@/assets/image/fission/zhongshanysx/ewm.jpg'),
            jiazhangbangbc: require('@/assets/image/fission/jiazhangbangbc/ewm.jpg'),
            nanningxes: require('@/assets/image/fission/nanningxes/ewm.jpg'),
            shaoxingxes: require('@/assets/image/fission/shaoxingxes/ewm.jpg'),
            shenzhenxes: require('@/assets/image/fission/shenzhenxes/ewm.jpg'),
            tianjinxes: require('@/assets/image/fission/tianjinxes/ewm.jpg'),
          },
          gzhImages: {
            xeskids: require('@/assets/image/fission/xeskids/gzh.png'),
            jiazhangbang: require('@/assets/image/fission/jiazhangbang/gzh.png'),
            hangzhouxes: require('@/assets/image/fission/hangzhouxes/gzh.png'),
            hefeixes: require('@/assets/image/fission/hefeixes/gzh.png'),
            huizhouxes: require('@/assets/image/fission/huizhouxes/gzh.png'),
            shenzhenxhxt: require('@/assets/image/fission/shenzhenxhxt/gzh.png'),
            zhongshanxes: require('@/assets/image/fission/zhongshanxes/gzh.png'),
            zhongshanysx: require('@/assets/image/fission/zhongshanysx/gzh.png'),
            jiazhangbangbc: require('@/assets/image/fission/jiazhangbangbc/gzh.png'),
            nanningxes: require('@/assets/image/fission/nanningxes/gzh.png'),
            shaoxingxes: require('@/assets/image/fission/shaoxingxes/gzh.png'),
            shenzhenxes: require('@/assets/image/fission/shenzhenxes/gzh.png'),
            tianjinxes: require('@/assets/image/fission/tianjinxes/gzh.png'),
          },
          dxlj: {
            xeskids: require('@/assets/image/fission/xeskids/dxlj.png'),
            jiazhangbang: require('@/assets/image/fission/jiazhangbang/dxlj.png'),
            hangzhouxes: require('@/assets/image/fission/hangzhouxes/dxlj.png'),
            hefeixes: require('@/assets/image/fission/hefeixes/dxlj.png'),
            huizhouxes: require('@/assets/image/fission/huizhouxes/dxlj.png'),
            shenzhenxhxt: require('@/assets/image/fission/shenzhenxhxt/dxlj.png'),
            zhongshanxes: require('@/assets/image/fission/zhongshanxes/dxlj.png'),
            zhongshanysx: require('@/assets/image/fission/zhongshanysx/dxlj.png'),
            jiazhangbangbc: require('@/assets/image/fission/jiazhangbangbc/dxlj.png'),
            nanningxes: require('@/assets/image/fission/nanningxes/dxlj.png'),
            shaoxingxes: require('@/assets/image/fission/shaoxingxes/dxlj.png'),
            shenzhenxes: require('@/assets/image/fission/shenzhenxes/dxlj.png'),
            tianjinxes: require('@/assets/image/fission/tianjinxes/dxlj.png'),
          },
          channelLogo: {
            xeskids: require('@/assets/image/fission/xeskids/logo.png'),
            jiazhangbang: require('@/assets/image/fission/jiazhangbang/logo.png'),
            hangzhouxes: require('@/assets/image/fission/hangzhouxes/logo.png'),
            hefeixes: require('@/assets/image/fission/hefeixes/logo.png'),
            huizhouxes: require('@/assets/image/fission/huizhouxes/logo.png'),
            shenzhenxhxt: require('@/assets/image/fission/shenzhenxhxt/logo.png'),
            zhongshanxes: require('@/assets/image/fission/zhongshanxes/logo.png'),
            zhongshanysx: require('@/assets/image/fission/zhongshanysx/logo.png'),
            jiazhangbangbc: require('@/assets/image/fission/jiazhangbangbc/logo.png'),
            nanningxes: require('@/assets/image/fission/nanningxes/logo.png'),
            shaoxingxes: require('@/assets/image/fission/shaoxingxes/logo.png'),
            shenzhenxes: require('@/assets/image/fission/shenzhenxes/logo.png'),
            tianjinxes: require('@/assets/image/fission/tianjinxes/logo.png'),
          },
          posterTitle: {
            xeskids: require('@/assets/image/fission/xeskids/posterTitle.png'),
            jiazhangbang: require('@/assets/image/fission/jiazhangbang/posterTitle.png'),
            hangzhouxes: require('@/assets/image/fission/hangzhouxes/posterTitle.png'),
            hefeixes: require('@/assets/image/fission/hefeixes/posterTitle.png'),
            huizhouxes: require('@/assets/image/fission/huizhouxes/posterTitle.png'),
            shenzhenxhxt: require('@/assets/image/fission/shenzhenxhxt/posterTitle.png'),
            zhongshanxes: require('@/assets/image/fission/zhongshanxes/posterTitle.png'),
            zhongshanysx: require('@/assets/image/fission/zhongshanysx/posterTitle.png'),
            jiazhangbangbc: require('@/assets/image/fission/jiazhangbangbc/posterTitle.png'),
            nanningxes: require('@/assets/image/fission/nanningxes/posterTitle.png'),
            shaoxingxes: require('@/assets/image/fission/shaoxingxes/posterTitle.png'),
            shenzhenxes: require('@/assets/image/fission/shenzhenxes/posterTitle.png'),
            tianjinxes: require('@/assets/image/fission/tianjinxes/posterTitle.png'),
          },

        }
      },
      created() {
        this.channel = sessionStorage.getItem('channel')
      },
    }


å¯ä»¥çœ‹åˆ°å¼•å…¥æ–‡ä»¶é‡Œé¢å ç”¨äº†å¤§éƒ¨åˆ†é‡å¤çš„ä¸œè¥¿ï¼Œå¼•å…¥å›¾ç‰‡ä¸åŒçš„åœ°æ–¹å°±æ˜¯æ¸ é“æ–‡ä»¶å¤¹åç§°ã€‚

ä¸€ä¸ªä¸ªæ–°å¢æ¸ é“ä¹Ÿæ˜¯å¾ˆè§‰å¾—å¾ˆéº»çƒ¦çš„äº‹æƒ…ï¼Œå¤åˆ¶ç²˜è´´ä¿®æ”¹ï¼Œå†æ»šåŠ¨å¤åˆ¶ç²˜è´´ä¿®æ”¹...

è¿™ç§ä½çº§æ•ˆç‡çš„äº‹æƒ…ï¼Œå®åœ¨ä¸æƒ³å†™ï¼Œæ€ä¹ˆåŠ...

ä¸æ…Œï¼Œæœ‰webpackè¿™ä¹ˆå¼ºå¤§çš„å·¥å…·å½“ç„¶è¦å¥½å¥½åˆ©ç”¨ï¼Œé€šè¿‡ `require.context`å»å¤„ç†å¼•å…¥æ–‡ä»¶é—®é¢˜ã€‚ç„¶åé€šè¿‡keys()éå†æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶ã€‚

å…·ä½“åŠŸèƒ½ï¼Œå¯ä»¥è®¿é—®[`require.context`](https://webpack.docschina.org/guides/dependency-management/#require-context)äº†è§£ï¼Œå°±ä¸å¤šè¯´å•¦

è¿™æ—¶å€™ä»£ç ä¼˜åŒ–å¦‚ä¸‹ï¼š


    const modulesFiles = require.context('@/assets/image/fission', true, /\guide.(png|jpg)$/) 
    const modulesFilesKeys = modulesFiles.keys().map(file => {
      return file.replace(/(^.\/)(\w+)(\/guide.(png|jpg))/, '$2')
    })
    // console.log(modulesFilesKeys)
    const guideImages = {}
    const giveImages = {}
    const topPic = {}
    const gzhImages = {}
    const dxlj = {}
    const channelLogo = {}
    const posterTitle = {}
    const channelEwm = {}
    modulesFilesKeys.forEach(name => {
      guideImages[name]   = require(`@/assets/image/fission/${name}/guide.png`)
      giveImages[name]    = require(`@/assets/image/fission/${name}/give.png`)
      topPic[name]        = require(`@/assets/image/fission/${name}/toppic.png`)
      gzhImages[name]     = require(`@/assets/image/fission/${name}/gzh.png`)
      dxlj[name]          = require(`@/assets/image/fission/${name}/dxlj.png`)
      channelLogo[name]   = require(`@/assets/image/fission/${name}/logo.png`)
      posterTitle[name]   = require(`@/assets/image/fission/${name}/posterTitle.png`)
      channelEwm[name]    = require(`@/assets/image/fission/${name}/ewm.jpg`)
    })
    export default {
      data () {
        return {
          channel: '',
          channelName: {
            xeskids: 'å­¦è€Œæ€kids',
            jiazhangbang: 'å®¶é•¿å¸®',
            hangzhouxes: 'æ­å·å­¦è€Œæ€',
            hefeixes: 'åˆè‚¥å­¦è€Œæ€',
            huizhouxes: 'æƒ å·å­¦è€Œæ€',
            shenzhenxhxt: 'æ·±åœ³å°çŒ´å­¦å ‚',
            zhongshanxes: 'ä¸­å±±å­¦è€Œæ€',
            zhongshanysx: 'ä¸­å±±å¹¼å‡å°',
            jiazhangbangbc: 'å®¶é•¿å¸®ç¼–ç¨‹',
            nanningxes: 'å—å®å­¦è€Œæ€',
            shaoxingxes: 'ç»å…´å­¦è€Œæ€',
            shenzhenxes: 'æ·±åœ³å­¦è€Œæ€',
            tianjinxes: 'å¤©æ´¥å­¦è€Œæ€',
            nanjingxes: 'å—äº¬å­¦è€Œæ€',
            xiamenjzb: 'å¦é—¨å®¶é•¿å¸®',
          },
          guideText: {
            xeskids: 'å­¦è€Œæ€kids',
            jiazhangbang: 'codemonkey',
            hangzhouxes: 'codemonkey',
            hefeixes: 'codemonkey',
            huizhouxes: 'codemonkey',
            shenzhenxhxt: 'codemonkey',
            zhongshanxes: 'codemonkey',
            zhongshanysx: 'codemonkey',
            jiazhangbangbc: 'codemonkey',
            nanningxes: 'codemonkey',
            shaoxingxes: 'codemonkey',
            shenzhenxes: 'codemonkey',
            tianjinxes: 'codemonkey',
            nanjingxes: 'codemonkey',
            xiamenjzb: 'codemonkey',
          },
          guideImages,
          giveImages,
          topPic,
          channelEwm,
          gzhImages,
          dxlj,
          channelLogo,
          posterTitle,
        }
      },
      created() {
        this.channel = sessionStorage.getItem('channel')
      },
    }


ä½†æ˜¯ï¼Œç°åœ¨å¹¶æ²¡æœ‰è¾¾åˆ°æˆ‘çš„ç›®çš„ã€‚ æ¸ é“å•†åå­— `channelName`, ç”¨æ¥å¤åˆ¶å…¬ä¼—å·å›å¤çš„`guideText`ï¼Œä»éœ€è¦æ‰‹åŠ¨ä¿®æ”¹ã€‚

æœ‰æ²¡æœ‰åŠæ³•ä¸æ‰‹åŠ¨ä¿®æ”¹è¿™äº›æ•°æ®å‘¢ï¼Ÿ

>é—®é¢˜ä¸€ç›´éƒ½æœ‰çš„ï¼Œè§£å†³é—®é¢˜çš„åŠæ³•ä¹Ÿæ€»æ˜¯ä¼šæœ‰çš„...(å¼•ç”¨æŸä¸ªäººç»å¸¸è¯´çš„è¯ğŸ˜‚)

å¼•å…¥æ–‡ä»¶ï¼Œå¯ä»¥æ­£åˆ™åŒ¹é…æ–‡ä»¶åï¼Œä¸å°±å¯ä»¥è·å–åˆ°äº†å˜›ã€‚ã€‚ã€‚

æ–°å»ºä¸€ä¸ªtxtæ–‡ä»¶ï¼ŒæŠŠæ¸ é“åç§°ä½œä¸ºæ–‡ä»¶åã€‚

![image.png](https://image-static.segmentfault.com/297/235/2972354045-5dad2b9e6110c_articlex)

æœ€ç»ˆä¼˜åŒ–ä»£ç å¦‚ä¸‹ï¼š


    const channelName = {}
    const modulesFiles = require.context('@/assets/image/fission', true, /\/[\s\S]+\.txt$/) // åŒ¹é…å¯¹åº”æ¸ é“.txtæ–‡ä»¶
    const modulesFilesKeys = modulesFiles.keys().map(file => {
      let regResult = file.replace(/^.\/(\w+)\/([\s\S]+).txt/, '$1,$2')
      let fileName = regResult.split(',')[0] // åŒ¹é…å¯¹åº”æ¸ é“æ–‡ä»¶å¤¹åå­—
      let txtName = regResult.split(',')[1] // åŒ¹é…å¯¹åº”æ¸ é“.txtæ–‡ä»¶å
      channelName[fileName] = txtName
      return fileName
    })
    // console.log(modulesFilesKeys)
    const guideText = {}
    const guideImages = {}
    const giveImages = {}
    const topPic = {}
    const gzhImages = {}
    const dxlj = {}
    const channelLogo = {}
    const posterTitle = {}
    const channelEwm = {}
    modulesFilesKeys.forEach(name => { // æ ¹æ®æ¸ é“æ–‡ä»¶å¤¹åå­—è®¿é—®è¯¥æ¸ é“ä¸‹çš„èµ„æº
      guideText[name]     = name === 'xeskids' ? 'å­¦è€Œæ€kids' : 'codemonkey'
      guideImages[name]   = require(`@/assets/image/fission/${name}/guide.png`)
      giveImages[name]    = require(`@/assets/image/fission/${name}/give.png`)
      topPic[name]        = require(`@/assets/image/fission/${name}/toppic.png`)
      gzhImages[name]     = require(`@/assets/image/fission/${name}/gzh.png`)
      dxlj[name]          = require(`@/assets/image/fission/${name}/dxlj.png`)
      channelLogo[name]   = require(`@/assets/image/fission/${name}/logo.png`)
      posterTitle[name]   = require(`@/assets/image/fission/${name}/posterTitle.png`)
      channelEwm[name]    = require(`@/assets/image/fission/${name}/ewm.jpg`)
    })
    export default {
      data () {
        return {
          channel: '',
          channelName,
          guideText,
          guideImages,
          giveImages,
          topPic,
          channelEwm,
          gzhImages,
          dxlj,
          channelLogo,
          posterTitle,
        }
      },
      created() {
        this.channel = sessionStorage.getItem('channel')
      },
    }


ä»¥åå†æ–°å¢æ¸ é“ï¼Œåªéœ€è¦æ¸ é“æ–°å»ºæ–‡ä»¶å¤¹ï¼Œä»¥åŠè¯¥æ¸ é“ä¸‹çš„å„ä¸ªèµ„æºï¼Œä¸Šå»æ–‡ä»¶å°±å¯ä»¥å•¦ï¼Œå†ä¹Ÿä¸ç”¨æ‹…å¿ƒä¿®æ”¹ä»£ç çš„é—®é¢˜äº†ã€‚âœŒï¸âœŒï¸âœŒï¸